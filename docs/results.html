<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Results | Predictive Policing</title>
  <meta name="description" content="Chapter 5 Results | Predictive Policing" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Results | Predictive Policing" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Results | Predictive Policing" />
  
  
  

<meta name="author" content="Jiaxi Liu/Ruoxi Li" />


<meta name="date" content="2021-04-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="missing-values.html"/>
<link rel="next" href="interactive-component.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/fgb.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/flatgeobuf-geojson.min.js"></script>
<script src="libs/chromajs-2.1.0/chroma.min.js"></script>
<link id="shpdt-1-attachment" rel="attachment" href="libs/shpdt-0.0.1/shpdt_layer.fgb"/>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<link id="dt1-race-1-attachment" rel="attachment" href="libs/dt1-race-0.0.1/dt1-race_layer.fgb"/>
<link id="dt1-age-1-attachment" rel="attachment" href="libs/dt1-age-0.0.1/dt1-age_layer.fgb"/>
<link id="dt1-sex-1-attachment" rel="attachment" href="libs/dt1-sex-0.0.1/dt1-sex_layer.fgb"/>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Predictive Policing</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Predictive Policing</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Results</h1>
<p>Part 1 EDA</p>
<p>Individual Variable Analysis for NYC crime data.</p>
<p><span class="math inline">\(Plot1:RACE\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>As we can see in the plot, most criminals are Black. The amount of black prepetrators is greater than white hispanic, white and black hispanic prepetrtors combined.</p>
<p><span class="math inline">\(Plot2:SEX\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Much more perpetrators are male.Male perpetrator population is five times as large as female perpetrators population.</p>
<p><span class="math inline">\(Plot3:AGE\)</span> <span class="math inline">\(GROUP\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Most perpetrators aged between 25-44.</p>
<p><span class="math inline">\(Plot4:BORO\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Brooklyn is the most dangerous borough with most crime cases in 2020.</p>
<p><span class="math inline">\(Plot5:Offense Type (Top 10)\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Multi-variable analysis (Mosaic Plot/Density Plot)</p>
<p><span class="math inline">\(PLOT 1: age+sex (Mosaic Plot)\)</span></p>
<pre><code>## # A tibble: 10 x 3
## # Groups:   age [5]
##    age   sex   count
##    &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
##  1 &lt;18   F       938
##  2 &lt;18   M      4907
##  3 18-24 F      5087
##  4 18-24 M     23300
##  5 25-44 F     13279
##  6 25-44 M     64092
##  7 45-64 F      3917
##  8 45-64 M     23107
##  9 65+   F       253
## 10 65+   M      1496</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p><span class="math inline">\(PLOT 2: sex+age+boro (facet histogram/interactive version in chapter 06)\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p><span class="math inline">\(PLOT 3: boro+race (Density Plot)\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p><span class="math inline">\(PLOT 4: boro+race(Tree Map)\)</span>
<img src="finalproj_files/figure-html/unnamed-chunk-17-1.png" width="672" />
The treemap was used to study which race is most likely to commit a crime. BLACK is the racial group with highest risk.</p>
<p>Following from the EDA above, we can clearly see crime case number differs in different borough/sex/race/age: Brooklyn and Manhattan had the most crimes. Black is the racial group with highest crime cases yet in Staten island,high risk group is white, and in Queens, the high risk group is Asian. No matter in which borogh, the highest risk age group is always 25-44. As for predictive policing, people will tag certain racial group/borough/age group/sex as High risk based on the statistics result shown above. But is this reasonable? We will further discuss the bias in predictive policing later. Now letâ€™s take a deeper look at the crimes by precinct by using spatial analysis tool.</p>
<p>Spacial Analysis</p>
<p>#Overall Features
<img src="finalproj_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>#Crime Rate by precinct</p>
<pre><code>## # A tibble: 6 x 2
##   dtprecinct `2020`
##        &lt;dbl&gt;  &lt;int&gt;
## 1         40   4377
## 2         44   3804
## 3         75   3791
## 4         46   3371
## 5        113   3317
## 6         52   3196</code></pre>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;/Users/jessie/Downloads/Police Precincts/geo_export_9f1de9c6-45df-4c9a-8939-1843acf3378c.shp&quot;, layer: &quot;geo_export_9f1de9c6-45df-4c9a-8939-1843acf3378c&quot;
## with 77 features
## It has 3 fields</code></pre>
<pre><code>##   precinct shape_area shape_leng
## 0        1   47315879   80969.43
## 1        5   18088798   18676.12
## 2        6   22098190   26402.90
## 3       71   45331787   29978.09
## 4       72  104621258   87968.19
## 5        7   18364021   17301.31</code></pre>
<p>#Combine the data set</p>
<pre><code>##   precinct shape_area shape_leng 2020
## 1        1   47315879   80969.43 1407
## 2        5   18088798   18676.12 2199
## 3        6   22098190   26402.90 1807
## 4       71   45331787   29978.09 1468
## 5       72  104621258   87968.19 2025
## 6        7   18364021   17301.31 1267</code></pre>
<p>#Plot the crime cases in the map
#plots the precinct with their respective crime case number
<img src="finalproj_files/figure-html/unnamed-chunk-21-1.png" width="672" />
#plots the precinct with crime cases above 3000 Mark as RED
<img src="finalproj_files/figure-html/unnamed-chunk-22-1.png" width="672" />
#plots the precinct with crime cases below 1000 Mark as Green
<img src="finalproj_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>#Now letâ€™s further discuss the bias in predictive policing field using COMPAS dataset.
# From the distribution crossing race, we found African-American and Caucasian are two races with the largest number of criminals. To ensure that the sample size is large enough for research, we select these top two races for future research.
<img src="finalproj_files/figure-html/unnamed-chunk-24-1.png" width="672" />
#The COMPAS model gives each defendant a decile score to rank the possibility of them committing a crime again and classifies people into High(8-10), Medium(5-7) and Low risk(1-4) corresponding to decile score. We first explore how the decile scores are distributed in African-American and Caucaian.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-25-1.png" width="672" />
#From the density plot, we can tell there is a clear downward trend in the decile scores as those scores increase for white defendants. However, the score for black people is more like a uniform distribution. We canâ€™t help questioning whether there is a significant difference in recidivism scores between races. We decided to use logistic regression to get a quantitative look on it.</p>
<pre><code>##    Length     Class      Mode 
##      6172 character character</code></pre>
<pre><code>##    Length     Class      Mode 
##      6172 character character</code></pre>
<pre><code>##    Length     Class      Mode 
##      6172 character character</code></pre>
<p>Part2 Whether there is a Significant Difference in COMPAS Scores Between Races</p>
<pre><code>## 
## Call:
## glm(formula = score_factor ~ gender_factor + age_factor + race_factor, 
##     family = &quot;binomial&quot;, data = df)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -1.6740  -0.9517  -0.6254   1.0519   2.2114  
## 
## Coefficients:
##                             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                 -0.55712    0.05573  -9.996  &lt; 2e-16 ***
## gender_factorFemale         -0.19349    0.07089  -2.729 0.006347 ** 
## age_factorGreater than 45   -0.97536    0.07739 -12.603  &lt; 2e-16 ***
## age_factorLess than 25       0.77722    0.06877  11.301  &lt; 2e-16 ***
## race_factorAfrican-American  0.85966    0.06102  14.088  &lt; 2e-16 ***
## race_factorAsian            -0.58030    0.44768  -1.296 0.194894    
## race_factorHispanic         -0.40236    0.11316  -3.556 0.000377 ***
## race_factorNative American   1.67548    0.70133   2.389 0.016893 *  
## race_factorOther            -0.82186    0.14580  -5.637 1.73e-08 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 8483.3  on 6171  degrees of freedom
## Residual deviance: 7578.0  on 6163  degrees of freedom
## AIC: 7596
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p>From the logistic regression output we found that most p-values of different race variables are less than 0.05, thus there is a significant difference in Compas score between races, which is the same as our previous guess.</p>
<pre><code>## [1] 1.578916</code></pre>
<p>By futher exploration, we learned Black defendants are 58% more likely than white defendants to receive a higher score for people in the same age and sex. This outcome supports our suspicion about race bias on CAMPOS score.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-31-1.png" width="672" />
From the mosaic plot above, we also can see that black people are more likely to have a higher score.</p>
<p>However, the other said that black defendants have a higher risk score because that they scored higher input factors, such as drug problems, correlated to race.</p>
<p>In order to verify their claims, we further studied the relationship between drug crimes and races.</p>
<p>Part 3 If the Drug Crimes Occurred More Often Among Blacks</p>
<pre><code>##   &lt;18 18-24 25-44 45-64   65+ 
##  5846 28392 77393 27032  1750</code></pre>
<pre><code>## AMERICAN INDIAN/ALASKAN NATIVE       ASIAN / PACIFIC ISLANDER                          BLACK 
##                            376                           7482                          69205 
##                 BLACK HISPANIC                        UNKNOWN                          WHITE 
##                          12229                            653                          15748 
##                 WHITE HISPANIC 
##                          34720</code></pre>
<pre><code>##      F      M 
##  23480 116933</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-36-1.png" width="672" />
#We first did a data visualization exploratory to have a initial glance on the drug crime of black and white people.From the Mosaic plot above we see that white people actually had a slightly larger proportion involving with drug crime, which was conflicted with the statement about black defendants have a higher risk score is because that they scored higher input factors, such as drug problem.</p>
<p>#Then, we did a logistic regression corresponding to whether the arrest of the criminal was caused by the dangerous drug trade.</p>
<pre><code>## 
## Call:
## glm(formula = Drug ~ PERP_RACE + AGE_GROUP + PERP_SEX, family = &quot;binomial&quot;, 
##     data = ifdrug)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -0.5637  -0.4566  -0.4093  -0.3461   3.0902  
## 
## Coefficients:
##                                         Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)                             -3.79738    0.09668 -39.277  &lt; 2e-16 ***
## PERP_RACEAMERICAN INDIAN/ALASKAN NATIVE -1.54316    0.38288  -4.030 5.57e-05 ***
## PERP_RACEASIAN / PACIFIC ISLANDER       -0.54277    0.06069  -8.944  &lt; 2e-16 ***
## PERP_RACEBLACK                          -0.07857    0.03233  -2.430  0.01510 *  
## PERP_RACEBLACK HISPANIC                  0.27349    0.04185   6.535 6.38e-11 ***
## PERP_RACEUNKNOWN                        -0.53044    0.18128  -2.926  0.00343 ** 
## PERP_RACEWHITE HISPANIC                  0.15019    0.03434   4.374 1.22e-05 ***
## AGE_GROUP18-24                           1.13546    0.09519  11.928  &lt; 2e-16 ***
## AGE_GROUP25-44                           1.43860    0.09290  15.485  &lt; 2e-16 ***
## AGE_GROUP45-64                           1.76492    0.09405  18.765  &lt; 2e-16 ***
## AGE_GROUP65+                             1.27625    0.13163   9.696  &lt; 2e-16 ***
## PERP_SEXFemale                          -0.42618    0.03026 -14.084  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 78553  on 140375  degrees of freedom
## Residual deviance: 77180  on 140364  degrees of freedom
##   (37 observations deleted due to missingness)
## AIC: 77204
## 
## Number of Fisher Scoring iterations: 6</code></pre>
<pre><code>## [1] 0.07402772</code></pre>
<p>#From the logistic result we know that black people actually 7.4% less likely than white people to get invlve in the drug problems for people with same age and sex.</p>
<p>#Thus, the statement that black defendants have a higher risk score because they scored higher on drug problems was invalid.</p>
<p>Part 4 Direction of the Racial Bias</p>
<p>#In order to further explore the score bias among races. We decided to use a confusion matrix to see the percentage of defendants who did not recidivate, but got high scores and the percentage of defendants who recidivate, but got low scores in black and white people.</p>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction   0   1
##          0 931 591
##          1 254 771
##                                           
##                Accuracy : 0.6682          
##                  95% CI : (0.6496, 0.6865)
##     No Information Rate : 0.5347          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.3454          
##                                           
##  Mcnemar&#39;s Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.7857          
##             Specificity : 0.5661          
##          Pos Pred Value : 0.6117          
##          Neg Pred Value : 0.7522          
##              Prevalence : 0.4653          
##          Detection Rate : 0.3655          
##    Detection Prevalence : 0.5976          
##       Balanced Accuracy : 0.6759          
##                                           
##        &#39;Positive&#39; Class : 0               
## </code></pre>
<pre><code>## [1] 0.2143</code></pre>
<pre><code>## [1] 0.4339</code></pre>
<p>#Calculated from the confusion matrix of black defendants, we know that there is 21.34% chance that a black defendant will not recidivate, but labeled high and 43.39% chance that a black defendant will recidivate, but labeled low for black defendants.</p>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 1098  502
##          1   75  201
##                                          
##                Accuracy : 0.6924         
##                  95% CI : (0.671, 0.7133)
##     No Information Rate : 0.6253         
##     P-Value [Acc &gt; NIR] : 6.492e-10      
##                                          
##                   Kappa : 0.2527         
##                                          
##  Mcnemar&#39;s Test P-Value : &lt; 2.2e-16      
##                                          
##             Sensitivity : 0.9361         
##             Specificity : 0.2859         
##          Pos Pred Value : 0.6863         
##          Neg Pred Value : 0.7283         
##              Prevalence : 0.6253         
##          Detection Rate : 0.5853         
##    Detection Prevalence : 0.8529         
##       Balanced Accuracy : 0.6110         
##                                          
##        &#39;Positive&#39; Class : 0              
## </code></pre>
<pre><code>## [1] 0.0639</code></pre>
<pre><code>## [1] 0.7141</code></pre>
<p>#Using the same logic we know that 6.39% chance that a white defendant will not recidivate, but labeled high and 71.41% chance that a defendant will recidivate, but labeled low for white defendants.</p>
<pre><code>##                                         Black White
## Did not recidivate, but labeled high(%) 21.34  6.39
## Recidivated, but labeled low(%)         43.39 71.41</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<p>In the facet histogram above, brighter colors in the graph represent a higher percentage. Therefore, we see that black defendants are more likely to be labeled high, although would not recidivate. However, white defendants are more likely to be labeled low, although they would recidivate.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="missing-values.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interactive-component.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jessie6jx/Predicticve-Policing/edit/main/05-results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jessie6jx/Predicticve-Policing/blob/main/05-results.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
